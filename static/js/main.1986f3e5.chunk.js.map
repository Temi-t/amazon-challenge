{"version":3,"sources":["images/sasu-naru.jpg","images/amazon_PNG11.png","images/chair_banner.jpg","images/ad2.png","StateProvider.js","firebase.js","Login.js","Header.js","Product.js","Home.js","reducer.js","Subtotal.js","CheckoutProduct.js","Checkout.js","Payment.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getFirestore","auth","getAuth","Login","history","useHistory","useState","email","setEmail","password","setPassword","className","to","src","img","alt","type","placeholder","onChange","e","target","onClick","preventDefault","signInWithEmailAndPassword","then","userCredential","push","catch","error","alert","message","createUserWithEmailAndPassword","Header","basket","user","amzon_img","Search","signOut","ShoppingBasket","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","key","item","Home","banner","uuidv4","saruto","getBasketTotal","reduce","prevItem","currentItem","state","action","itemIndex","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","displayType","thousandSeparator","prefix","decimalScale","renderText","CheckoutProduct","Checkout","ticketNotVisibleState","transform","opacity","ad","enterAnimation","from","leaveAnimation","Payment","setError","setDisabled","useStripe","useElements","onSubmit","empty","promise","loadStripe","App","useEffect","onAuthStateChanged","authUser","log","path","stripe","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1986f3e5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sasu-naru.90a96657.jpg\";","module.exports = __webpack_public_path__ + \"static/media/amazon_PNG11.1a7d775d.png\";","module.exports = __webpack_public_path__ + \"static/media/chair_banner.41b82b30.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ad2.e4246ac4.png\";","import React, { createContext, useContext, useReducer } from 'react';\n\n//prepares the dataLayer\nexport const StateContext = createContext();\n\n//Wrap app and provide the dataLayer\nexport const StateProvider= ({ reducer, initialState, children }) => (\n    <StateContext.Provider value={useReducer ( reducer, initialState )}>\n        {children}\n    </StateContext.Provider>\n);\n\n//pull information from the dataLayer\nexport const useStateValue = () => useContext(StateContext);\n","//import firebase from 'firebase/compat/app';\n//import * as authentication from 'firebase/auth'\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore } from \"firebase/firestore/lite\";\n\n\n    // For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDbefqii07NXt-Iayr98f-Z9Gdo4Pra4Q4\",\n  authDomain: \"challenge-efd56.firebaseapp.com\",\n  projectId: \"challenge-efd56\",\n  storageBucket: \"challenge-efd56.appspot.com\",\n  messagingSenderId: \"358720157417\",\n  appId: \"1:358720157417:web:114a6445ad195757a82278\",\n  measurementId: \"G-QYD61NDC79\"\n};\n \nconst firebaseApp = initializeApp(firebaseConfig);\nconst db = getFirestore(firebaseApp);\n\n//const createUserWithEmailAndPassword = authentication.createUserWithEmailAndPassword;\n//const auth = authentication.getAuth();\n \nexport { db };\n","import React, {useState} from 'react';\nimport './login.css';\nimport img from './images/amazon_PNG11.png';\nimport { Link, useHistory } from 'react-router-dom';\nimport { db } from './firebase';\nimport {getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from 'firebase/auth';\n\nexport const auth = getAuth();\n\nfunction Login () {\n    const history = useHistory();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const signIn = e => {\n        e.preventDefault();\n        //firebase login...\n        signInWithEmailAndPassword(auth, email, password)\n            .then( userCredential => history.push('/'))\n            .catch( error => alert(error.message))\n    }\n\n    const register = e => {\n        e.preventDefault();\n       //firebase register\n        createUserWithEmailAndPassword( auth, email, password )\n            .then( userCredential => history.push('/'))\n//                console.log(userCredential)\n            .catch(error => alert(error.message))\n    }\n\n    return (\n        <div className=\"login\">\n            <Link to='/'>\n                <img className=\"login__logo\" src={img} alt=\"login\" />\n            </Link>\n            <div className=\"login__container\">\n                <h1>Sign In</h1>\n                <form>\n                    <h5>E-mail</h5>\n                    <input \n                        type=\"email\" \n                        value={email} \n                        placeholder=\"email\"\n                        onChange={e => setEmail(e.target.value) }\n                    />\n                    <h5>Password</h5>\n                    <input \n                        value={password}\n                        type=\"password\" \n                        placeholder=\"password\"\n                        onChange={e => setPassword(e.target.value)} \n                    />\n                    <button \n                        className=\"login__signInBtn\" \n                        type=\"submit\"\n                        onClick={signIn}\n                    >\n                        Sign In\n                    </button>\n                </form>\n                <p>\n                    By signing-in you agree to Amaton's Condition of Use & Sale.\n                    Please see our Privacy Notice, out Cookies Notice and         our Interest-Based Ads Notice.\n                </p>\n                <button \n                    className=\"login__registerBtn\"\n                    onClick={register}\n                >\n                    Create your account\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default Login;\n","import React from 'react';\nimport './Header.css'; \nimport { Link } from 'react-router-dom';\nimport { Search, ShoppingBasket } from '@material-ui/icons';\nimport amzon_img from './images/amazon_PNG11.png';\nimport { useStateValue } from './StateProvider';\nimport {auth} from './Login';\n\n\nfunction Header () {\n\n    const [ {basket, user}, dispatch ] = useStateValue();\n    const handleAuthentication = () => {\n        if(user){\n            auth.signOut()\n        }\n    }\n\n    return(\n        <div className=\"header\">\n            <Link to=\"/\">\n                <img\n                    className=\"header__logo\"\n                    src={amzon_img}\n                    alt=\"logo\" \n                />\n            </Link>\n            <div className=\"header__search\">\n                <input\n                    className=\"header__searchInput\"\n                    type=\"text\" \n                />\n                <Search className=\"header__searchIcon\"/>\n            </div>\n            <div className=\"header__nav\">\n                <Link to={!user && \"/login\"}>\n                    <div onClick={handleAuthentication} className=\"header__option\">\n                        <span className=\"header__optionLineOne\">\n                            Hello {user ? user.email : \"Guest\"}\n                        </span>\n                        <span className=\"header__optionLineTwo\">\n                            {user ? \"Sign Out\" : \"Sign In\"}\n                        </span>\n                    </div>\n                </Link>\n                <div className=\"header__option\">\n                    <span className=\"header__optionLineOne\">Returns</span>\n                    <span className=\"header__optionLineTwo\">& Orders</span>\n                </div>\n                <div className=\"header__option\">\n                    <span className=\"header__optionLineOne\">Your</span>\n                    <span className=\"header__optionLineTwo\">Prime</span>\n                </div>\n                <Link to=\"/checkout\">\n                    <div className=\"header__optionBasket\">\n                        < ShoppingBasket />\n                        <span className=\"header__optionLineTwo header__basketCount\">\n                            {basket.length}\n                        </span>\n                    </div> \n                </Link>\n            </div>\n        </div>\n    )\n}\n\nexport default Header;\n","import React from 'react';\nimport './product.css';\nimport { useStateValue } from './StateProvider';\n\n\nfunction Product ({id, title, image, price, rating}){\n    const [ state, dispatch ] = useStateValue();\n    const addToBasket = () => {\n    //dispatch the item or payload\n        dispatch({\n            type: \"ADD_TO_BASKET\",\n            item: {\n                id: id,\n                title: title,\n                image: image,\n                price: price,\n                rating: rating,\n            }\n        });\n    }    \n    return(\n        <div className=\"product\">\n            <div className=\"product__info\">\n                <p>{title}</p>\n                <p className=\"product__price\">\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className=\"product__rating\">\n                    {Array(rating).fill().map((_, i) => ( <p key={\"star_\"+i}>🌟</p> ))}\n                </div>\n            </div>\n            <img src={image} alt=\"stuff\"/>\n            <button onClick={addToBasket}>Add to Basket</button>\n        </div>\n    )\n}\nexport default Product;\n","import React from 'react';\nimport './home.css';\nimport banner from './images/chair_banner.jpg';\nimport Product from './Product';\nimport saruto from './images/sasu-naru.jpg';\nimport {v4 as uuidv4} from 'uuid';\n\nfunction Home () {\n    return (\n        <div className=\"home\">\n            <div className=\"home__container\">\n                <img \n                    src={banner} alt=\"banner\"\n                    className=\"home__image\"\n                />\n            </div>\n            <div className=\"home__row\">\n                <Product \n                    id={uuidv4()}\n                    title=\"The lean startup\"\n                    price={29.99}\n                    image={saruto}\n                    rating={5}\n                />\n                <Product \n                    id={uuidv4()}\n                    title=\"Something nice\"\n                    price={45.09}\n                    image={saruto}\n                    rating={3}\n                />\n            </div>\n            <div className=\"home__row\">\n                <Product \n                    id={uuidv4()}\n                    title=\"The second card\"\n                    price={14.39}\n                    image={saruto}\n                    rating={4}\n                /> \n                <Product \n                    id={uuidv4()}\n                    title=\"why are we here\"\n                    price={36.59}\n                    image={saruto}\n                    rating={2}\n                />\n                <Product \n                    id={uuidv4()}\n                    title=\"Things we do for food\"\n                    price={8.32}\n                    image={saruto}\n                    rating={5}\n                />\n            </div>\n            <div className=\"home__row\">\n                <Product \n                    id={uuidv4()}\n                    title=\"The green house\"\n                    price={29.99}\n                    image={saruto}\n                    rating={5}\n                />\n            </div>\n        </div>\n    )\n};\n\nexport default Home;\n","export const initialState = {\n    basket: [],\n    user: null\n};\n\n//selector\nexport const getBasketTotal = (basket) => \nbasket?.reduce((prevItem, currentItem) => prevItem + currentItem.price, 0);\n\n\nconst reducer = (state, action) => {\n//    console.log(\"Action selected to be dispatched: \",action)\n    switch(action.type){\n        case 'ADD_TO_BASKET':\n            return {\n                ...state, \n                basket: [...state.basket, action.item]   \n            };\n\n        case \"REMOVE_FROM_BASKET\":\n            const itemIndex = state.basket.findIndex(\n                (basketItem) => basketItem.id === action.id \n            );\n            let newBasket = [...state.basket];\n            if(itemIndex >= 0){\n                newBasket.splice(itemIndex, 1);\n            } else{\n                console.warn(\n                `Can not remove product ${action.id} as it is not in the basket`\n                )\n            }\n            return {\n                ...state,\n                basket: newBasket\n            }\n        case \"SET_USER\":\n            return {\n                ...state,\n                user: action.user\n            }\n    \n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport './subtotal.css';\nimport NumberFormat from 'react-number-format';\nimport { useStateValue } from './StateProvider';\nimport {getBasketTotal} from './reducer';\nimport { useHistory } from 'react-router-dom';\n\n\nfunction Subtotal () {\n    const [ {basket}, dispatch ] = useStateValue();\n    const history = useHistory();\n\n    return(\n        <div className=\"subtotal\">\n            <NumberFormat \n                value={getBasketTotal( basket ) }\n                className=\"subtotal__number__format\"\n                displayType={'text'}\n                thousandSeparator={true}\n                prefix={'$'}\n                decimalScale={2}\n                renderText= { (value) => (\n                    <>\n                        <p>\n                            Subtotal ( {basket?.length} items): <strong>{value}</strong>\n                        </p>\n                        <small className=\"subtotal__gift\">\n                            <input type=\"checkbox\"/>\n                            This order contains a gift\n                        </small>\n                    </>\n               )}\n            />\n            <button onClick={e => history.push('/payment')}> Proceed to checkout</button>\n        </div>\n    )\n}\nexport default Subtotal;\n","import React from 'react';\nimport './checkout-product.css';\nimport {useStateValue} from './StateProvider';\n\nconst CheckoutProduct = ({ id, image, title, price, rating }) => {\n    const [{basket}, dispatch] = useStateValue();\n        //Action to remove item from basket\n//{ id, image, title, price, rating }\n    const removeFromBasket = () => {\n        dispatch({\n            type: \"REMOVE_FROM_BASKET\",\n            id: id \n        })\n    }\n    return (\n        <div className=\"checkoutProduct\" >\n            <img className=\"checkoutProduct__img\" src={image} alt=\"cart image\"/>\n            <div className=\"checkoutProduct__info\">\n                <p className=\"checkoutProduct__title\">{title}</p>\n                <p className=\"checkoutProduct__price\">\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className=\"checkoutProduct__rating\">\n                    {Array(rating).fill().map((_, i)=>(\n                        <p key={\"checkoutStar_\"+i}>🌟</p>\n                    ))}\n                </div>\n                <button onClick={removeFromBasket}>Remove From Basket</button>\n            </div>\n        </div>\n    );\n}\n\nexport default CheckoutProduct;\n","import React from 'react';\nimport './checkout.css';\nimport ad from './images/ad2.png';\nimport Subtotal from './Subtotal';\nimport CheckoutProduct from './CheckoutProduct';\nimport { useStateValue } from './StateProvider';\nimport FlipMove from 'react-flip-move';\n// import mage from './images/sasu-naru.jpg';\n\nfunction Checkout () {\n    const [ {basket, user}, dispatch ] = useStateValue();\n    const ticketNotVisibleState = {\n      transform: \"translateX(-100%)\",\n      opacity: 0.1\n    };\n    return(\n    <div className=\"checkout\">\n        <div className=\"checkout__left\">\n            <img className=\"checkout__ad\" src={ad} alt=\"advert\"/>\n            <div>\n                <h3>Hello, {user?.email}</h3>\n                <h2 className=\"checkout__title\"> Your shopping Basket</h2>\n                    <FlipMove\n                         enterAnimation={{\n                        from: ticketNotVisibleState,\n                        to: {}\n                        }}\n                        leaveAnimation={{\n                        from: {},\n                        to: ticketNotVisibleState\n                        }}\n                    >\n                        {basket.map(\n                            (item, i) => (\n                                <div>\n                                    < CheckoutProduct \n                                        key={\"basketItem_\"+i} \n                                        item={item} \n                                        id = {item.id} \n                                        image = {item.image}\n                                        title = {item.title}\n                                        price = {item.price}\n                                        rating = {item.rating}      \n                                    />\n                                </div>\n                            )\n                        )}\n                    </FlipMove>\n\n            </div>\n        </div>\n        <div className=\"checkout__right\">\n            <Subtotal />\n        </div>\n    </div>\n    )\n};\nexport default Checkout;\n","import React, {useState} from 'react';\nimport './payment.css';\nimport { useStateValue } from './StateProvider';\nimport CheckoutProduct from './CheckoutProduct';\nimport { Link } from \"react-router-dom\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\n\nfunction Payment () {\n    const [{ basket, user }, dispatch] = useStateValue();\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    \n    const stripe = useStripe();\n    const elements = useElements();\n\n    const handleSubmit = e => {\n//        handle stripe\n    }\n    const handleChange = e => {\n        //listen for changes in card elements and display any errors during typing\n        setDisabled(e.empty);\n        setError(e.error ? e.error.message : \"\");\n    }\n\n    return(\n        <div className=\"payment\">\n            <div className=\"payment__container\">\n                <h1>\n                    Checkout(\n                        <Link to=\"/checkout\">{basket?.length} items</Link>\n                    )\n                </h1>\n                <section className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Delivery address</h3>\n                    </div>\n                    <address className=\"payment__address\">\n                        <p>{user?.email}</p>\n                        <p>123, React Lane</p>\n                        <p>Los Angeles, CA</p>\n                    </address>\n                </section>\n\n                <section className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Review items and delivery</h3>\n                    </div>\n                    <div className=\"payment__items\">\n                        { \n                            basket.map((item, i) => (\n                                <CheckoutProduct\n                                    key={\"CheckoutItem_\"+i} \n                                    item={item} \n                                    id = {item.id} \n                                    image = {item.image}\n                                    title = {item.title}\n                                    price = {item.price}\n                                    rating = {item.rating} \n                                />\n                            ))\n                         }\n                    </div>\n                </section>\n\n                <section className=\"payment__section\">\n                    <div className=\"payment__title\">\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className=\"payment__details\">\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handleChange} />\n                            <div className=\"payment__classContainer\"></div>\n                        </form>\n                    </div>\n                </section>\n            </div>\n        </div>\n    );\n}\n\nexport default Payment;\n","import React, { useEffect } from 'react';\nimport './App.css';\nimport Header from './Header';\nimport Home from './Home';\nimport Checkout from './Checkout';\nimport Login from './Login.js';\nimport Payment from './Payment';\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\"\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useStateValue } from './StateProvider';\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\n//  \"homepage\": \"https://temi-t.github.io/amazon-challenge\",\n//full ecommerce build with serverless architecture\n\n//api key: pk_test_51Ji3SnBUY2FILOIPzsZkohPza8xWsiv5gpewm31UOl1TbDkow79U39HHQO9KfOvB6qNtjYaHocxz2mc1lNOWSNAM00j202Unox\n\n\n//secret key:  sk_test_51Ji3SnBUY2FILOIPKgtRISZBWLQskoy6rCYckzE3dsCa72zDO1I4tJJMeL3lbzfUvms7G0wrW9A76yDkJ6YYxDnT00ORyqpfrh\n\n\n\nconst auth = getAuth();\nconst promise = loadStripe(\n\"pk_test_51Ji3SnBUY2FILOIPzsZkohPza8xWsiv5gpewm31UOl1TbDkow79U39HHQO9KfOvB6qNtjYaHocxz2mc1lNOWSNAM00j202Unox\"\n    );\n\nfunction App() {\n\n    const [{}, dispatch] = useStateValue();\n\n    useEffect(()=>{\n        onAuthStateChanged( auth, (authUser)=>{\n            console.log(\"USER >>> \",authUser)\n            console.log(\"AUTH >>> \", auth)\n            if(authUser){\n                //if user is signed in\n\n                dispatch({\n                    type: \"SET_USER\",\n                    user: authUser\n                })\n            } else{\n                //user is signed out\n                    \n                dispatch({\n                    type: \"SET_USER\",\n                    user: null\n                })\n            }\n        });\n    }, []);\n\n  return (\n    <Router>\n        <div className=\"App\">\n\n            <Switch>\n                 <Route path=\"/login\">\n                    <Login />\n                </Route> \n                <Route path=\"/checkout\">\n                    <Header />\n                    <Checkout/>\n                </Route>\n                <Route path=\"/payment\">\n                    <Header />\n                    <Elements stripe={promise}>\n                        <Payment />\n                    </Elements>\n                </Route>  \n                \n{/* Here, home route is kept at the bottom intentionally*/}\n                <Route path=\"/\">\n                    <Header />\n                    <Home />\n                </Route>                \n            </Switch>\n        </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport reducer, { initialState } from './reducer';\nimport { StateProvider } from './StateProvider';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n        <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}